!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue"),require("v-money3")):"function"==typeof define&&define.amd?define(["exports","vue","v-money3"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["v-money-spinner"]={},e.Vue,e.vMoney3)}(this,(function(e,t,a){"use strict";class n extends a.BigNumber{constructor(e){super(e)}add(e){const t=this.adjustComparisonNumbers(e);return this.number=t[0]+t[1],this}subtract(e){const t=this.adjustComparisonNumbers(e);return this.number=t[0]-t[1],this}minMax(e,t,a){return a?this[e?"add":"subtract"](t)[e?"lessThan":"biggerThan"](a)?this:a:this[e?"add":"subtract"](t)}lessEqualThan(e){const t=this.adjustComparisonNumbers(e);return t[0]<=t[1]}biggerEqualThan(e){const t=this.adjustComparisonNumbers(e);return t[0]>=t[1]}}var l={bootstrap:{labelClass:"form-label",inputClass:"form-control",prependClass:"btn btn-outline-secondary fw-bold",appendClass:"btn btn-outline-success fw-bold",wrapperClass:"",wrapperGroupClass:"input-group"}},s="v-money-spinner",r="bootstrap",o=!0,u=1,i="center",p="",m="",d="",c="",v="",y="",b="",f="",C="",g="",h={id:{required:!1,type:[Number,String],default:()=>s},template:{type:[Boolean,String],default:()=>r},spinner:{type:Boolean,default:()=>o},step:{type:Number,default:()=>u},align:{type:String,default:()=>i},label:{type:String,default:()=>p},labelClass:{type:String,default:()=>m},wrapperClass:{type:String,default:()=>d},wrapperGroupClass:{type:String,default:()=>c},wrapperPrependClass:{type:String,default:()=>v},wrapperAppendClass:{type:String,default:()=>y},prependClass:{type:String,default:()=>b},appendClass:{type:String,default:()=>f},inputClass:{type:String,default:()=>C},invalidClass:{type:String,default:()=>g},modelModifiers:{type:Object,default:()=>({})}};const x=t.defineComponent({name:"money-spinner",components:{Money:a.Money},inheritAttrs:!1,props:h,setup(e,{emit:s,attrs:r}){const o=t.ref(),u=t.computed({get:()=>o.value.masked?new n(a.unformat(o.value.modelValue,o.value.$props)):new n(o.value.modelValue),set(e){s("update:modelValue",e)}}),i=t=>{o.value.max&&u.value.biggerThan(o.value.max)?u.value=o.value.max.toFixed(o.value.precision):o.value.min&&u.value.lessThan(o.value.min)?u.value=o.value.min.toFixed(o.value.precision):t&&(null===o.value.max||u.value.lessThan(o.value.max))?u.value=u.value.minMax(t,e.step,o.value.max).toFixed(o.value.precision):t||null!==o.value.min&&!u.value.biggerThan(o.value.min)||(u.value=u.value.minMax(t,e.step,o.value.min).toFixed(o.value.precision)),s(t?"plus":"minus",u.value.toFixed(o.value.precision),o.value.$el.value)},p=t.computed((()=>{const t={...r};return e.modelModifiers.number&&(t.masked=!1),t.minCharacters&&(t.minimumNumberOfCharacters=t.minCharacters),t.disableNegative&&(t.min=0),t}));return t.onMounted((()=>{t.watch((()=>o.value.$el.value),((e,t)=>{s("change",u.value.toFixed(o.value.precision),e,t),((e,t)=>{let l=new n(a.unformat(t,o.value.$props)),r=new n(a.unformat(e,o.value.$props));l.lessThan(0)&&r.biggerEqualThan(0)?s("positive",r.toFixed(o.value.precision),e,t):l.biggerEqualThan(0)&&r.lessThan(0)&&s("negative",r.toFixed(o.value.precision),e,t)})(e,t)}))})),{money:o,vAttrs:p,plus:()=>{i(!0)},minus:()=>{i(!1)},style:t=>l[e.template]?l[e.template][t]+" "+e[t]:e[t]}}}),S=["for"];x.render=function(e,a,n,l,s,r){const o=t.resolveComponent("money");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(e.style("wrapperClass"))},[e.label?(t.openBlock(),t.createElementBlock("label",{key:0,class:t.normalizeClass(e.style("labelClass")),for:e.id},t.toDisplayString(e.label),11,S)):t.createCommentVNode("",!0),t.createElementVNode("div",{class:t.normalizeClass(e.style("wrapperGroupClass"))},[e.spinner?(t.openBlock(),t.createElementBlock("button",{key:0,type:"button",onClick:a[0]||(a[0]=(...t)=>e.minus&&e.minus(...t)),class:t.normalizeClass(e.style("prependClass"))},"-",2)):t.createCommentVNode("",!0),t.createVNode(o,t.mergeProps({ref:"money",id:e.id},e.vAttrs,{class:[e.style("inputClass"),e.template?"text-"+e.align:""]}),null,16,["id","class"]),e.spinner?(t.openBlock(),t.createElementBlock("button",{key:1,type:"button",onClick:a[1]||(a[1]=(...t)=>e.plus&&e.plus(...t)),class:t.normalizeClass(e.style("appendClass"))},"+",2)):t.createCommentVNode("",!0)],2)],2)};var k={install(e){e.component("VMoneySpinner",x)}};e.VMoneySpinner=x,e.default=k,Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
